var Zanimo=function(){if(!window.requestAnimationFrame)window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();var b=function(a){var d="transitionend",b=null,c={transform:"transform"},e={property:"TransitionProperty",duration:"TransitionDuration",timing:"TransitionTimingFunction"},g=function(a){return(a[0]==="-"?a.substr(1,attr.length-
1):a).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})};"WebkitTransition"in a.body.style&&(d="webkitTransitionEnd",b="webkit");for(var h in c)c[h]=b?b+"-"+c[h]:c[h];for(var i in e)e[i]=b?b+e[i]:e[i].charAt(0).toLowerCase()+e[i].slice(1);return{transition:g(b?b+"-transition":"transition"),transitionend:d,properties:e,norm:g,prefixProperty:function(a){return c[a]?c[a]:a}}}(window.document),f=function(a){return Q.fcall(function(){return a})},k=function(a,d,f,c,e){d=b.prefixProperty(d);a.style[b.properties.property]?
(a.style[b.properties.property]=a.style[b.properties.property]+", "+d,a.style[b.properties.duration]=a.style[b.properties.duration]+", "+c+"ms",a.style[b.properties.timing]=a.style[b.properties.timing]+", "+(e||"linear")):(a.style[b.properties.property]=d,a.style[b.properties.duration]=c+"ms",a.style[b.properties.timing]=e||"linear");a.style[b.norm(d)]=f},l=function(a,d,f,c,e){var d=b.prefixProperty(d),d=a.style[b.transition].split(", "),g=d.lastIndexOf(c+"ms "+(e||"linear")),c=d.filter(function(a,
b){return b!==g});a.style[b.transition]=c.toString()};f.kDelta=140;f.transition=function(a,d,j,c,e){var g=Q.defer(),h,i=function(){h&&(clearTimeout(h),h=null);l(a,d,j,c,e);a.removeEventListener(b.transitionend,i,!1);g.resolve(a)};if(!a||!a.nodeType||!(a.nodeType>=0))return g.reject(Error("Zanimo transition: no DOM element!")),g.promise;a.addEventListener(b.transitionend,i,!1);window.requestAnimationFrame(function(){k(a,d,j,c,e);h=setTimeout(function(){g.reject(Error("Zanimo transition: "+a.id+" with "+
d+":"+j))},c+f.kDelta)},a);return g.promise};f.transition\u0192=function(a,b,j,c){return function(e){return f.transition(e,a,b,j,c)}};f.\u0192=function(a){return function(){return f(a)}};return f}();
