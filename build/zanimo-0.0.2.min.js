var Zanimo=function(){var c=function(a){var b=Q.defer();b.resolve(a);return b.promise};c.kDelta=140;c.kMin=100;c.when=Q.when;c.delay=function(a,b){var c=Q.defer();setTimeout(function(){c.resolve(b||a)},a);return c.promise};c._addTransition=function(a,b,c,d,e){b=b==="transform"?"-webkit-transform":b;a.style.webkitTransitionProperty?(a.style.webkitTransitionProperty=a.style.webkitTransitionProperty+", "+b,a.style.webkitTransitionDuration=a.style.webkitTransitionDuration+", "+d+"ms",a.style.webkitTransitionTimingFunction=
a.style.webkitTransitionTimingFunction+", "+(e||"linear")):(a.style.webkitTransitionProperty=b,a.style.webkitTransitionDuration=d+"ms",a.style.webkitTransitionTimingFunction=e||"linear");b=b[0]==="-"?b.substr(1,b.length-1):b;b=b.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")});a.style[b]=c};c._removeTransition=function(a,b,c,d,e){var b=b==="transform"?"-webkit-transform":b,c=a.style.webkitTransition.split(", "),f=c.lastIndexOf(b+" "+d+"ms "+(e||"linear")),b=c.filter(function(a,
b){return b!==f});a.style.webkitTransition=b.toString()};c.transition=function(a,b,h,d,e){var f=Q.defer(),g,i=function(){g&&(clearTimeout(g),g=null);f.resolve(a);c._removeTransition(a,b,h,d,e);a.removeEventListener("webkitTransitionEnd",i,!1)};if(!a||!a.nodeType||!(a.nodeType>=0))return f.reject(Error("Zanimo transition: no given dom Element!")),f.promise;a.addEventListener("webkitTransitionEnd",i,!1);g=setTimeout(function(){f.reject(Error("Zanimo transition: "+a.id+" with "+b+":"+h))},d>c.kMin?d+
c.kDelta:c.kMin+c.kDelta);setTimeout(function(){c._addTransition(a,b,h,d,e)},0);return f.promise};return c}();
