var Zanimo=function(){var c=function(a){var b=Q.defer();b.resolve(a);return b.promise};c.kDelta=140;c.when=Q.when;c.delay=function(a,b){var d=Q.defer();setTimeout(function(){d.resolve(b||a)},a);return d.promise};c._addTransition=function(a,b,d,c,e){b=b==="transform"?"-webkit-transform":b;a.style.webkitTransitionProperty?(a.style.webkitTransitionProperty=a.style.webkitTransitionProperty+", "+b,a.style.webkitTransitionDuration=a.style.webkitTransitionDuration+", "+c+"ms",a.style.webkitTransitionTimingFunction=
a.style.webkitTransitionTimingFunction+", "+(e||"linear")):(a.style.webkitTransitionProperty=b,a.style.webkitTransitionDuration=c+"ms",a.style.webkitTransitionTimingFunction=e||"linear");b=b[0]==="-"?b.substr(1,b.length-1):b;b=b.replace(/(\-[a-z])/g,function(a){return a.toUpperCase().replace("-","")});a.style[b]=d};c._removeTransition=function(a,b,c,g,e){var b=b==="transform"?"-webkit-transform":b,c=a.style.webkitTransition.split(", "),f=c.lastIndexOf(b+" "+g+"ms "+(e||"linear")),b=c.filter(function(a,
b){return b!==f});a.style.webkitTransition=b.toString()};c.transition=function(a,b,d,g,e){var f=Q.defer(),h,i=function(){h&&(clearTimeout(h),h=null);f.resolve(a);c._removeTransition(a,b,d,g,e);a.removeEventListener("webkitTransitionEnd",i,!1)};if(!a||!a.nodeType||!(a.nodeType>=0))return f.reject(Error("Zanimo transition: no given dom Element!")),f.promise;a.addEventListener("webkitTransitionEnd",i,!1);h=setTimeout(function(){f.reject(Error("Zanimo transition: "+a.id+" with "+b+":"+d))},g+c.kDelta);
c._addTransition(a,b,d,g,e);return f.promise};return c}();
