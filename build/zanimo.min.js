var Zanimo=function(){var j=function(a){var e=Zanimo.async.defer();e.resolve(a);return e.promise};j.delay=function(a){var e=Zanimo.async.defer();setTimeout(function(){e.resolve(a)},a);return e.promise};j.transition=function(a,e,b,d,c){var f=Zanimo.async.defer(),g=-1,i=!1,h=function(){i=!0;f.resolve(a);a.removeEventListener(Zanimo.utils.prefix.evt,h,!1)};a.addEventListener(Zanimo.utils.prefix.evt,h,!1);Zanimo.delay(d+20).then(function(){i||f.resolve(Zanimo.async.reject("Transition error."))});g=Zanimo.utils._add(a,
Zanimo.utils._getAttr(e));Zanimo.utils._setAt(a,"TransitionDuration",d+"ms",g);Zanimo.utils._setAt(a,"TransitionTimingFunction",c||"linear",g);a.style[Zanimo.utils._getAttrName(e)]=b;return f.promise};return j}();
(function(j,a){a.enqueue=function(a){setTimeout(a,1)};a.isPromise=function(a){return a&&typeof a.then==="function"};a.defer=function(){var b=[],d;return{resolve:function(c){if(b){d=e(c);for(var c=0,f=b.length;c<f;c++)(function(b){a.enqueue(function(){d.then.apply(d,b)})})(b[c]);b=void 0}},promise:{then:function(c,f){var e=a.defer(),c=c||function(a){return a},f=f||function(b){return a.reject(b)},i=function(a){e.resolve(c(a))},h=function(a){e.resolve(f(a))};b?b.push([i,h]):a.enqueue(function(){d.then(i,
h)});return e.promise}}}};var e=function(b){return b&&b.then?b:{then:function(d){var c=a.defer();a.enqueue(function(){c.resolve(d(b))});return c.promise}}};a.reject=function(b){return{then:function(d,c){var f=a.defer();a.enqueue(function(){f.resolve(c(b))});return f.promise}}};j.when=a.when=function(b,d,c){var f=a.defer(),g,d=d||function(a){return a},c=c||function(b){return a.reject(b)},i=function(b){try{return d(b)}catch(c){return a.reject(c)}},h=function(b){try{return c(b)}catch(d){return a.reject(d)}};
a.enqueue(function(){e(b).then(function(a){g||(g=!0,f.resolve(e(a).then(i,h)))},function(a){g||(g=!0,f.resolve(h(a)))})});return f.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
(function(j,a,e){a.prefixed=["transform"];a.prefix={webkit:{evt:"webkitTransitionEnd",name:"webkit"},opera:{evt:"oTransitionEnd",name:"O"},firefox:{evt:"transitionend",name:"Moz"}};a.browser=e.match(/.*(Chrome|Safari).*/)?"webkit":e.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":void 0;a.prefix=a.prefix[a.browser];a._set=function(a,d,c){var f=a.style[d]||"";a.style[d]=f.length>0?f+", "+c:c;return a.style[d].split(", ").indexOf(c)};a._add=function(b,d){var c=b.style[a.prefix.name+
"TransitionProperty"],c=(c?c.split(", "):[]).indexOf(d);return c===-1?a._set(b,"TransitionProperty",d):c};a._setAt=function(b,d,c,f){var e=(b.style[a.prefix.name+d]||"").split(",");e[f]=c;b.style[a.prefix.name+d]=e.toString()};a._getAttr=function(b){return a.prefixed.indexOf(b)===-1?b:"-"+a.prefix.name.toLowerCase()+"-"+b};a._getAttrName=function(b){b=a.prefixed.indexOf(b)===-1?b:a.prefix.name+"-"+b;return b.split("-").reduce(function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)})}})(window.Zanimo,
window.Zanimo.utils=window.Zanimo.utils||{},navigator.userAgent);
