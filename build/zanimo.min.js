var Zanimo=function(f){function a(b,a,d){var c=b.style[a]||"";b.style[a]=c.length>0?c+", "+d:d}function g(b){return d.indexOf(b)===-1?b:"-"+e.name.toLowerCase()+"-"+b}var d=["transform"],e={webkit:{evt:"webkitTransitionEnd",name:"webkit"},opera:{evt:"oTransitionEnd",name:"O"},firefox:{evt:"transitionend",name:"Moz"}},f=f.match(/.*(Chrome|Safari).*/)?"webkit":f.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":void 0,c=function(b){var a=Zanimo.async.defer();a.resolve(b);return a.promise};
c.delay=function(b){var a=Zanimo.async.defer();setTimeout(function(){a.resolve(b)},b);return a.promise};c.transition=function(b,d,c,h,l){var i=Zanimo.async.defer(),f=!1,j=function(){f=!0;i.resolve(b);b.removeEventListener(e.evt,j,!1)};b.addEventListener(e.evt,j,!1);Zanimo.delay(h+20).then(function(){f||i.resolve(Zanimo.async.reject("Transition error."))});a(b,e.name+"TransitionDuration",h+"ms");a(b,e.name+"TransitionProperty",g(d));a(b,e.name+"TransitionTimingFunction",l||"linear");b.style.cssText+=
";"+g(d)+":"+c;return i.promise};e=e[f];if(!e)throw"Unsupported browser...";return c}(navigator.userAgent);
(function(f,a){a.enqueue=function(a){setTimeout(a,1)};a.isPromise=function(a){return a&&typeof a.then==="function"};a.defer=function(){var d=[],e;return{resolve:function(c){if(d){e=g(c);for(var c=0,b=d.length;c<b;c++)(function(b){a.enqueue(function(){e.then.apply(e,b)})})(d[c]);d=void 0}},promise:{then:function(c,b){var f=a.defer(),c=c||function(a){return a},b=b||function(b){return a.reject(b)},g=function(a){f.resolve(c(a))},h=function(a){f.resolve(b(a))};d?d.push([g,h]):a.enqueue(function(){e.then(g,
h)});return f.promise}}}};var g=function(d){return d&&d.then?d:{then:function(e){var c=a.defer();a.enqueue(function(){c.resolve(e(d))});return c.promise}}};a.reject=function(d){return{then:function(e,c){var b=a.defer();a.enqueue(function(){b.resolve(c(d))});return b.promise}}};f.when=a.when=function(d,e,c){var b=a.defer(),f,e=e||function(a){return a},c=c||function(b){return a.reject(b)},k=function(b){try{return e(b)}catch(c){return a.reject(c)}},h=function(b){try{return c(b)}catch(d){return a.reject(d)}};
a.enqueue(function(){g(d).then(function(a){f||(f=!0,b.resolve(g(a).then(k,h)))},function(a){f||(f=!0,b.resolve(h(a)))})});return b.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
