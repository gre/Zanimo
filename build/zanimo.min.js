var Zanimo=function(){var j=function(a){var f=Zanimo.async.defer();f.resolve(a);return f.promise};j.delay=function(a){var f=Zanimo.async.defer();setTimeout(function(){f.resolve(a)},a);return f.promise};j.transition=function(a,f,b,d,c){var e=Zanimo.async.defer(),g=-1,i=!1,h=function(){i=!0;e.resolve(a);a.removeEventListener(Zanimo.utils.prefix.evt,h,!1)};a.addEventListener(Zanimo.utils.prefix.evt,h,!1);Zanimo.delay(d+20).then(function(){i||e.resolve(Zanimo.async.reject("Transition error."))});g=Zanimo.utils._addTransition(a,
f);Zanimo.utils._setAt(a,"TransitionDuration",d+"ms",g);Zanimo.utils._setAt(a,"TransitionTimingFunction",c||"linear",g);a.style[Zanimo.utils._getAttrName(f)]=b;return e.promise};return j}();
(function(j,a){a.enqueue=function(a){setTimeout(a,1)};a.isPromise=function(a){return a&&typeof a.then==="function"};a.defer=function(){var b=[],d;return{resolve:function(c){if(b){d=f(c);for(var c=0,e=b.length;c<e;c++)(function(b){a.enqueue(function(){d.then.apply(d,b)})})(b[c]);b=void 0}},promise:{then:function(c,e){var f=a.defer(),c=c||function(a){return a},e=e||function(b){return a.reject(b)},i=function(a){f.resolve(c(a))},h=function(a){f.resolve(e(a))};b?b.push([i,h]):a.enqueue(function(){d.then(i,
h)});return f.promise}}}};var f=function(b){return b&&b.then?b:{then:function(d){var c=a.defer();a.enqueue(function(){c.resolve(d(b))});return c.promise}}};a.reject=function(b){return{then:function(d,c){var e=a.defer();a.enqueue(function(){e.resolve(c(b))});return e.promise}}};j.when=a.when=function(b,d,c){var e=a.defer(),g,d=d||function(a){return a},c=c||function(b){return a.reject(b)},i=function(b){try{return d(b)}catch(c){return a.reject(c)}},h=function(b){try{return c(b)}catch(d){return a.reject(d)}};
a.enqueue(function(){f(b).then(function(a){g||(g=!0,e.resolve(f(a).then(i,h)))},function(a){g||(g=!0,e.resolve(h(a)))})});return e.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
(function(j,a,f){a.prefixed=["transform"];a.prefix={webkit:{evt:"webkitTransitionEnd",name:"webkit",css:"-webkit-"},opera:{evt:"oTransitionEnd",name:"O",css:"-o-"},firefox:{evt:"transitionend",name:"Moz",css:"-moz-"}};a.browser=f.match(/.*(Chrome|Safari).*/)?"webkit":f.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":void 0;a.prefix=a.prefix[a.browser];a.transitionProperty=a.prefix.name+"TransitionProperty";a._set=function(a,d,c){var e=a.style[d]||"";a.style[d]=e.length>0?e+", "+
c:c;return a.style[d].split(", ").indexOf(c)};a._addTransition=function(b,d,c,e){d=a._prefixCSSAttribute(d);c=b.style[a.transitionProperty];e=(c?c.split(", "):[]).indexOf(d);return e===-1?a._set(b,"TransitionProperty",d):e};a._setAt=function(b,d,c,e){var f=(b.style[a.prefix.name+d]||"").split(",");f[e]=c;b.style[a.prefix.name+d]=f.toString()};a._prefixCSSAttribute=function(b){return a.prefixed.indexOf(b)===-1?b:a.prefix+b};a._getAttrName=function(b){b=a.prefixed.indexOf(b)===-1?b:a.prefix.name+"-"+
b;return b.split("-").reduce(function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)})}})(window.Zanimo,window.Zanimo.utils=window.Zanimo.utils||{},navigator.userAgent);
