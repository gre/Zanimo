var Zanimo=function(g){function d(c,a,b){var h=c.style[a+"TransitionProperty"]?c.style[a+"TransitionProperty"].split(", "):[],d=h.indexOf(b);d!==-1?console.log("found !!!!! : "+b+" ==== "+h.indexOf(b)):(h=a+"TransitionProperty",d=c.style[h]||"",c.style[h]=d.length>0?d+", "+b:b,console.log(c.style[h]),d=c.style[a+"TransitionProperty"].split(", ").indexOf(b));console.log(d);console.log(b);return d}function j(c,a,b,h){vals=(c.style[a]||"").split(",");vals[h]=b;c.style[a]=vals.toString()}function b(c){c=
f.indexOf(c)===-1?c:a.name+"-"+c;return c.split("-").reduce(function(c,a){return c+a.charAt(0).toUpperCase()+a.substr(1)})}var f=["transform"],a={webkit:{evt:"webkitTransitionEnd",name:"webkit"},opera:{evt:"oTransitionEnd",name:"O"},firefox:{evt:"transitionend",name:"Moz"}},g=g.match(/.*(Chrome|Safari).*/)?"webkit":g.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":void 0,e=function(c){var a=Zanimo.async.defer();a.resolve(c);return a.promise};e.delay=function(a){var b=Zanimo.async.defer();
setTimeout(function(){b.resolve(a)},a);return b.promise};e.transition=function(c,e,i,h,g){var k=Zanimo.async.defer(),l=-1,m=!1,n=function(){m=!0;k.resolve(c);c.removeEventListener(a.evt,n,!1)};c.addEventListener(a.evt,n,!1);Zanimo.delay(h+20).then(function(){m||k.resolve(Zanimo.async.reject("Transition error."))});l=d(c,a.name,f.indexOf(e)===-1?e:"-"+a.name.toLowerCase()+"-"+e);j(c,a.name+"TransitionDuration",h+"ms",l);j(c,a.name+"TransitionTimingFunction",g||"linear",l);c.style[b(e)]=i;return k.promise};
a=a[g];if(!a)throw"Unsupported browser...";return e}(navigator.userAgent);
(function(g,d){d.enqueue=function(b){setTimeout(b,1)};d.isPromise=function(b){return b&&typeof b.then==="function"};d.defer=function(){var b=[],f;return{resolve:function(a){if(b){f=j(a);for(var a=0,e=b.length;a<e;a++)(function(a){d.enqueue(function(){f.then.apply(f,a)})})(b[a]);b=void 0}},promise:{then:function(a,e){var c=d.defer(),a=a||function(a){return a},e=e||function(a){return d.reject(a)},g=function(b){c.resolve(a(b))},i=function(a){c.resolve(e(a))};b?b.push([g,i]):d.enqueue(function(){f.then(g,
i)});return c.promise}}}};var j=function(b){return b&&b.then?b:{then:function(f){var a=d.defer();d.enqueue(function(){a.resolve(f(b))});return a.promise}}};d.reject=function(b){return{then:function(f,a){var e=d.defer();d.enqueue(function(){e.resolve(a(b))});return e.promise}}};g.when=d.when=function(b,f,a){var e=d.defer(),c,f=f||function(a){return a},a=a||function(a){return d.reject(a)},g=function(a){try{return f(a)}catch(b){return d.reject(b)}},i=function(b){try{return a(b)}catch(c){return d.reject(c)}};
d.enqueue(function(){j(b).then(function(a){c||(c=!0,e.resolve(j(a).then(g,i)))},function(a){c||(c=!0,e.resolve(i(a)))})});return e.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
