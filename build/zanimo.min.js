var Zanimo=function(f){function d(a,h,b){var d=a.style[h]||"";a.style[h]=d.length>0?d+", "+b:b}function i(a){a=b.indexOf(a)===-1?a:e.name+"-"+a;return a.split("-").reduce(function(a,b){return a+b.charAt(0).toUpperCase()+b.substr(1)})}var b=["transform"],e={webkit:{evt:"webkitTransitionEnd",name:"webkit"},opera:{evt:"oTransitionEnd",name:"O"},firefox:{evt:"transitionend",name:"Moz"}},f=f.match(/.*(Chrome|Safari).*/)?"webkit":f.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":void 0,
c=function(a){var b=Zanimo.async.defer();b.resolve(a);return b.promise};c.delay=function(a){var b=Zanimo.async.defer();setTimeout(function(){b.resolve(a)},a);return b.promise};c.transition=function(a,c,f,g,n){var j=Zanimo.async.defer(),k=!1,l=function(){k=!0;j.resolve(a);a.removeEventListener(e.evt,l,!1)};a.addEventListener(e.evt,l,!1);Zanimo.delay(g+20).then(function(){k||j.resolve(Zanimo.async.reject("Transition error."))});d(a,e.name+"TransitionDuration",g+"ms");d(a,e.name+"TransitionProperty",
b.indexOf(c)===-1?c:"-"+e.name.toLowerCase()+"-"+c);d(a,e.name+"TransitionTimingFunction",n||"linear");a.style[i(c)]=f;return j.promise};e=e[f];if(!e)throw"Unsupported browser...";return c}(navigator.userAgent);
(function(f,d){d.enqueue=function(b){setTimeout(b,1)};d.isPromise=function(b){return b&&typeof b.then==="function"};d.defer=function(){var b=[],e;return{resolve:function(c){if(b){e=i(c);for(var c=0,a=b.length;c<a;c++)(function(a){d.enqueue(function(){e.then.apply(e,a)})})(b[c]);b=void 0}},promise:{then:function(c,a){var h=d.defer(),c=c||function(a){return a},a=a||function(a){return d.reject(a)},f=function(a){h.resolve(c(a))},g=function(b){h.resolve(a(b))};b?b.push([f,g]):d.enqueue(function(){e.then(f,
g)});return h.promise}}}};var i=function(b){return b&&b.then?b:{then:function(e){var c=d.defer();d.enqueue(function(){c.resolve(e(b))});return c.promise}}};d.reject=function(b){return{then:function(e,c){var a=d.defer();d.enqueue(function(){a.resolve(c(b))});return a.promise}}};f.when=d.when=function(b,e,c){var a=d.defer(),f,e=e||function(a){return a},c=c||function(a){return d.reject(a)},m=function(a){try{return e(a)}catch(b){return d.reject(b)}},g=function(a){try{return c(a)}catch(b){return d.reject(b)}};
d.enqueue(function(){i(b).then(function(b){f||(f=!0,a.resolve(i(b).then(m,g)))},function(b){f||(f=!0,a.resolve(g(b)))})});return a.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
