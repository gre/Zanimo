var Zanimo=function(g){function e(b,c,a){c=b.style[name];c=(c?c.split(", "):[]).indexOf(a);if(c===-1){var c=name,i=b.style[c]||"";b.style[c]=i.length>0?i+", "+a:a;c=b.style[c].split(", ").indexOf(a)}return c}function j(b,a,d,i){vals=(b.style[a]||"").split(",");vals[i]=d;b.style[a]=vals.toString()}function d(b){b=h.indexOf(b)===-1?b:a.name+"-"+b;return b.split("-").reduce(function(b,a){return b+a.charAt(0).toUpperCase()+a.substr(1)})}var h=["transform"],a={webkit:{evt:"webkitTransitionEnd",name:"webkit"},
opera:{evt:"oTransitionEnd",name:"O"},firefox:{evt:"transitionend",name:"Moz"}},g=g.match(/.*(Chrome|Safari).*/)?"webkit":g.match(/.*Firefox.*/)?"firefox":navigator.appName==="Opera"?"opera":void 0,f=function(a){var c=Zanimo.async.defer();c.resolve(a);return c.promise};f.delay=function(a){var c=Zanimo.async.defer();setTimeout(function(){c.resolve(a)},a);return c.promise};f.transition=function(b,c,f,i,g){var k=Zanimo.async.defer(),l=-1,m=!1,n=function(){m=!0;k.resolve(b);b.removeEventListener(a.evt,
n,!1)};b.addEventListener(a.evt,n,!1);Zanimo.delay(i+20).then(function(){m||k.resolve(Zanimo.async.reject("Transition error."))});l=e(b,a.name,h.indexOf(c)===-1?c:"-"+a.name.toLowerCase()+"-"+c);j(b,a.name+"TransitionDuration",i+"ms",l);j(b,a.name+"TransitionTimingFunction",g||"linear",l);b.style[d(c)]=f;return k.promise};a=a[g];if(!a)throw"Unsupported browser...";return f}(navigator.userAgent);
(function(g,e){e.enqueue=function(d){setTimeout(d,1)};e.isPromise=function(d){return d&&typeof d.then==="function"};e.defer=function(){var d=[],h;return{resolve:function(a){if(d){h=j(a);for(var a=0,f=d.length;a<f;a++)(function(a){e.enqueue(function(){h.then.apply(h,a)})})(d[a]);d=void 0}},promise:{then:function(a,f){var b=e.defer(),a=a||function(a){return a},f=f||function(a){return e.reject(a)},c=function(c){b.resolve(a(c))},g=function(a){b.resolve(f(a))};d?d.push([c,g]):e.enqueue(function(){h.then(c,
g)});return b.promise}}}};var j=function(d){return d&&d.then?d:{then:function(h){var a=e.defer();e.enqueue(function(){a.resolve(h(d))});return a.promise}}};e.reject=function(d){return{then:function(h,a){var f=e.defer();e.enqueue(function(){f.resolve(a(d))});return f.promise}}};g.when=e.when=function(d,h,a){var f=e.defer(),b,h=h||function(a){return a},a=a||function(a){return e.reject(a)},c=function(a){try{return h(a)}catch(b){return e.reject(b)}},g=function(b){try{return a(b)}catch(c){return e.reject(c)}};
e.enqueue(function(){j(d).then(function(a){b||(b=!0,f.resolve(j(a).then(c,g)))},function(a){b||(b=!0,f.resolve(g(a)))})});return f.promise}})(window.Zanimo,window.Zanimo.async=window.Zanimo.async||{});
